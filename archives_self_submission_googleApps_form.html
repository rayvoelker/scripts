<!DOCTYPE html>
<html lang="en">
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
	<title>Archives Digital Photograph Self Submission</title>
	
	<!-- Bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
	
	</head>
  <body>

		<script>
		// The function will be called after the form is submitted
		function uploadFile() {
			document.getElementById('uploadFile').value = "Uploading File..";
			google.script.run
				.withSuccessHandler(fileUploaded)
				.uploadFiles(document.getElementById("labnol"));
			return false;
		}

		// This function will be called after the Google Script has executed
		function fileUploaded(status) {
			document.getElementById('labnol').style.display = 'none';
			document.getElementById('output').innerHTML = status;
		}
		</script>
	
		<div class="container-fluid">
		<div class="row">
		<div class="col-md-12">
		
	
    <h1>University of Dayton Archives</h1>
		<h2>Digital Photograph Self Submission Form</h2>

		<hr>
		
		<form id="labnol">
		
			<h3>About You</h3>
			
			<div class="col-md-9 col-md-offset-3">
				<div class="form-group">
					<label for="myName">Full Name: </label>
					<input type="text" class="form-control" id="myName" name="myName" placeholder="Full Name Here ...">
				</div>
				
				<div class="form-group">
					<label for="affiliation">Affiliation: </label>
					<select class="form-control" id="affiliation" name="affiliation">
						<option value="Student">Student</option>
						<option value="Staff">Staff</option>
						<option value="Faculty">Faculty</option>
					</select>
				</div>
							
							
				<div class="form-group">
					<label for="myEmail">E-Mail: </label>
					<input type="email" class="form-control" id="myEmail" name="myEmail" placeholder="E-Mail Address ...">
				</div>
				
			</div>
			
			<hr>
			
			<h3>About Submission</h3>
			
			<div class="col-md-9 col-md-offset-3">
			
				<div class="form-group">
					<textarea class="form-control" rows="4" cols="80" id="description" name="description" placeholder="Describe the image here..."></textarea>
				</div>
				
				<div class="form-group">
					<label for="dateCreated">Date (or approximate date) of the Photo </label>
					<input type="text" class="form-control" id="dateCreated" name="dateCreated" placeholder="Date">
				</div>
				
				<div class="form-group">
					<label for="the_file">Upload File</label>
					<input type="file" class="btn btn-default" id="the_file" name="the_file">
				</div>

			
			</div>
			
			
			<!-- The submit button. It calls the server side function uploadfiles() on click -->
			<button type="submit" class="btn btn-default" id="uploadFile" value="Upload File" onclick="this.value='Uploading..';uploadFile();">Submit</button>
		
		</form>
        
        
        <div id="output"></div>
		
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>

		</div>
		</div>
		</div>
	</body>
</html>
