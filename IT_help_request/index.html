<!DOCTYPE html>
<html lang="en">
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
	<title>Roesch Library IT Help Request</title>
	
	<!-- Bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
	
	</head>
  <body>

		<script>
		// The function will be called after the form is submitted
		function uploadFile() {
			document.getElementById('uploadFile').value = "Uploading File..";
			google.script.run
				.withSuccessHandler(fileUploaded)
				.uploadFiles(document.getElementById("request_form"));
			return false;
		}

		// This function will be called after the Google Script has executed
		function fileUploaded(status) {
			document.getElementById('request_form').style.display = 'none';
			document.getElementById('output').innerHTML = status;
		}
		</script>
	
		<div class="container-fluid">
		<div class="row">
		<div class="col-md-12">
		
	
    <h1>Roesch Library</h1>
		<h2>IT Request Form</h2>

		<hr>
		
		<form id="request_form">
		
			<h3>About You</h3>
			
			<div class="col-md-9 col-md-offset-3">
				<div class="form-group">
					<label for="email">E-Mail: </label>
					<input type="text" class="form-control" id="email" name="email" value="<?= user_email ?>" disabled>
				</div>
                
                <div class="form-group">
					<label for="phone-number">Phone Number: </label>
					<input type="text" class="form-control" id="phone_number" name="phone_number" placeholder="Phone Number (Optional)">
				</div>
				
			</div>
			
			<hr>
			
			<h3>What You Want to Report</h3>
			
			<div class="col-md-9 col-md-offset-3">
                
				<div class="form-group">
					<label for="issue-type">Issue: </label>
					<select class="form-control" id="issue" name="issue">
						<option value="one">One</option>
						<option value="two">Two</option>
						<option value="three">three</option>
					</select>
				</div>
            
            
            
				<div class="form-group">
					<textarea class="form-control" rows="4" cols="80" id="description" name="description" placeholder="Describe the issue here..."></textarea>
				</div>
								
				<div class="form-group">
					<label for="the_file">Upload File or Screen Shot (Optional)</label>
					<input type="file" class="btn btn-default" id="the_file" name="the_file">
				</div>

			
			</div>
			
			
			<!-- The submit button. It calls the server side function uploadfiles() on click -->
			<button type="submit" class="btn btn-default" id="uploadFile" value="Upload File" onclick="this.value='Uploading..';uploadFile();">Submit</button>
		
		</form>
        
        
        <div id="output"></div>
		
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>

		</div>
		</div>
		</div>
	</body>
</html>
